## Ячейки

Содержимое ячейки таблицы или строки списка.

**Библиотека компонентов**

```
http://n2oapp.net/framework/config/schema/n2o-cell-2.0
```

### Общие свойства

**Атрибуты**

|Наименование|Тип            |Описание          |Значение по умолчанию                                                             |
|------------|---------------|------------------|----------------------------------------------------------------------------------|
|src         |React компонент|Реализация ячейки |Для каждой ячейки своя реализация по умолчанию. Для `custom` атрибут обязательный.|
|class       |CSS класс      |Класс стиля ячейки|                                                                                  |
|style       |CSS свойство   |Стиль ячейки      |                                                                                  |
|visible     |true false     |Видимость ячейки  |                                                                                  |

### &lt;text&gt;

Текст со стилем или без.

**Атрибуты**

|Наименование    |Тип   |Описание                                |Значение по умолчанию|
|----------------|------|----------------------------------------|---------------------|
|format          |Строка|Формат текста                           |                     |
|subtext-field-id|Строка|Идентификатор поля второго уровня текста|                     |
|subtext-format  |Строка|Формат второго уровня текста            |                     |

**Тело**

[Переключатель](#_Переключатель_switch)

:::note

Сам текст берется из значения *text-field-id* в родительском элементе.

:::

**Пример**

```xml
<text class="font-weight-bold" style="color:red;"/> <!--Жирный шрифт-->
```

### &lt;link&gt;

Ссылка.

**Атрибуты**

|Наименование|Тип                         |Описание                                                   |Значение по умолчанию|
|------------|----------------------------|-----------------------------------------------------------|---------------------|
|url         |Строка                      |Адрес URL открываемой страницы                             |                     |
|target      |self, newWindow, application|Сценарий открытия ссылки                                   |                     |
|action-id   |Ссылка на действие виджета  |Действие виджета, которое будет вызвано при клике по ссылке|                     |
|icon        |Строка                      |Иконка ссылки                                              |                     |
|type        |text, icon, iconAndText     |Текст с иконкой или без                                    |text                 |

**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<link action-id="update"/>
```

```xml
<link>
  <open-page page-id="personCard"/>
</link>
```

### &lt;icon&gt;

Иконка.

**Атрибуты**

|Наименование|Тип                                      |Описание           |Значение по умолчанию                |
|------------|-----------------------------------------|-------------------|-------------------------------------|
|text        |Строка                                   |Текст иконки       |Берётся из значения в `text-field-id`|
|icon        |[CSS класс](http://fontawesome.io/icons/)|Класс иконки       |                                     |
|type        |icon, iconAndText                        |С текстом или без  |icon                                 |
|position    |right, left                              |Расположение текста|                                     |

**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<icon class="fa-pencil" type="iconAndText"/>
```

```xml
<icon class="fa-id-card-o">
  <show-modal page-id="personCard"/>
</icon>
```

### &lt;checkbox&gt;

Чекбокс.

:::note

Значение true или false берется из значения *text-field-id*.

:::

**Атрибуты**

|Наименование|Тип               |Описание                                          |Значение по умолчанию                       |
|------------|------------------|--------------------------------------------------|--------------------------------------------|
|enabled     |true false        |Доступность чекбокса                              |Если есть действие, то `true`, иначе `false`|
|action-id   |Ссылка на действие|Действие, которое выполнится при клике по чекбоксу|                                            |

**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<checkbox action-id="update"/>
```

```xml
<checkbox>
  <invoke operation-id="update"/>
</checkbox>
```

### &lt;progress&gt;

Индикатор прогресса.

**Атрибуты**

|Наименование|Тип                                                                            |Описание                   |Значение по умолчанию|
|------------|-------------------------------------------------------------------------------|---------------------------|---------------------|
|class       |[CSS class](https://getbootstrap.com/docs/4.0/components/progress/#backgrounds)|Стиль индикатора           |                     |
|active      |true false                                                                     |С анимацией загрузки?      |false                |
|size        |large, normal, small                                                           |Размер индикатора прогресса|normal               |
|striped     |true false                                                                     |С полосками?               |false                |
|color       |Строка                                                                         |Цвет индикатора            |                     |

**Пример**

```xml
<progress
  value="50"
  class="bg-success"
  size="small"/>
```

### &lt;image&gt;

Изображение.

**Атрибуты**

|Наименование |Тип                                                               |Описание                                                |Значение по умолчанию|
|-------------|------------------------------------------------------------------|--------------------------------------------------------|---------------------|
|class        |[CSS class](https://getbootstrap.com/docs/4.0/content/images/)    |Стиль обрамления                                        |                     |
|width        |Число                                                             |Ширина изображения (px)                                 |                     |
|action-id    |Ссылка на действие виджета                                        |Действие виджета, которое выполнится при клике по иконке|                     |
|shape        |square, circle, rounded                                           |Форма картинки                                          |square               |
|title        |Строка                                                            |Заголовок                                               |                     |
|description  |Строка                                                            |Подзаголовок                                            |                     |
|text-position|top, left, right, bottom|Расположение текста относительно картинки|right                                                   |                     |


**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<image
  width="32"
  class="img-thumbnail">
    <statuses>
       <status/>
            ...
       <status/>
    </statuses>
    <action>
        <open-page page-id="profile"/>
    </action>
</image>
```

### &lt;statuses&gt;

Список статусов.

### &lt;status&gt;

Элемент статуса.

**Атрибуты**

|Наименование|Тип                                       |Описание                  |Значение по умолчанию|
|------------|------------------------------------------|--------------------------|---------------------|
|Src         |React компонент                           |Реализация статуса        |Status               |
|field-id    |Строка                                    |Поле с данными для статуса|                     |
|icon        |Строка                                    |Иконка статуса            |                     |
|place       |topLeft, topRight, bottomLeft, bottomRight|Расположение статуса      |topLeft              |

**Пример**

```xml
<status
    field-id="status"
    icon="{icon}"
    place="topLeft"
/>
```

### &lt;edit&gt;

Редактирование значения.

**Атрибуты**

|Наименование|Тип                       |Описание                                                          |Значение по умолчанию|
|------------|--------------------------|------------------------------------------------------------------|---------------------|
|action-id   |Ссылка на действие виджета|Действие виджета, которое выполнится при завершении редактирования|                     |
|type        |inline, popup             |Расположение                                                      |inline               |
|format      |Строка                    |Формат текста                                                     |                     |
|enabled     |true false                |Условие доступности                                               |true                 |

**Тело**

[Поле ввода](#_Поля_ввода)

**Пример**

```xml
<edit action-id="update" type="popup">
  <date-time id="birthday"/>
</edit>
```

### &lt;toolbar&gt;

Ячейка с кнопками.

**Атрибуты**

|Наименование|Тип   |Описание                                                                                                                |Значение по умолчанию|
|------------|------|------------------------------------------------------------------------------------------------------------------------|---------------------|
|generate    |Строка|Генерация стандартных действий. Возможные значения: update, delete. Можно писать несколько идентификаторов через запятую|                     |

**Пример**

```xml
<toolbar>
  <button>...</button>
  <button>...</button>
  <button>...</button>
</toolbar>
```

#### &lt;button&gt;

Кнопка ячейки.

**Атрибуты**

|Наименование|Тип                                                                        |Описание                                                  |Значение по умолчанию   |
|------------|---------------------------------------------------------------------------|----------------------------------------------------------|------------------------|
|label       |Строка                                                                     |Подпись кнопки                                            |Вычисляется из action-id|
|icon        |[CSS класс](http://fontawesome.io/icons/)                                  |Иконка кнопки                                             |Вычисляется из action-id|
|action-id   |Ссылка на действие виджета                                                 |Действие виджета, которое выполнится при нажатии на кнопку|                        |
|class       |[CSS класс](https://getbootstrap.com/docs/4.0/components/buttons/#examples)|Стиль кнопки                                              |                        |

**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<toolbar>
  <button action-id="update"/>
  <button action-id="delete"/>
</toolbar>
```

```xml
<toolbar>
  <button label="Изменить" icon="fa-pencil">
    <open-page page-id="personCard" action-id="update"/>
  </button>
  <button label="Удалить" icon="fa-trash">
    <invoke operation-id="delete"/>
  </button>
</toolbar>
```

### &lt;badge&gt;

Ячейка с текстом.

**Атрибуты**

|Наименование|Тип        |Описание                |Значение по умолчанию|
|------------|-----------|------------------------|---------------------|
|position    |right, left|Расположение            |                     |
|text        |Строка     |Текст вне значка        |                     |
|color       |CSS класс  |Цвет значка             |                     |
|format      |Строка     |Формат текста в значке  |                     |
|text-format |Строка     |Формат текста вне значка|                     |

**Тело**

[Переключатель цвета](#_Переключатель_switch)

**Пример**

```xml
<badge text="{status}" position="right">
  <switch>
       <case value="1">success</case>
       <case value="2">danger</case>
       <default>info</default>
  </switch>
</badge>
```

### &lt;list&gt;

Ячейка со списком.

**Атрибуты**

|Наименование  |Тип                   |Описание                                                                                                          |Значение по умолчанию|
|--------------|----------------------|------------------------------------------------------------------------------------------------------------------|---------------------|
|size          |Число                 |Количество элементов для группировки                                                                              |                     |
|color         |CSS класс             |Цвет элементов                                                                                                    |                     |
|label-field-id|Вложенное поле столбца|Отображаемое поле в объекте, если столбец - массив объектов. Если отсутствует, то столбец является массивом строк.|                     |

**Тело**

[Переключатель цвета](#_Переключатель_switch)

**Пример**

```xml
<list color="secondary" size="3"/>
```

### &lt;rating&gt;

Рейтинг.

**Атрибуты**

|Наименование|Тип               |Описание                                                                                                |Значение по умолчанию|
|------------|------------------|--------------------------------------------------------------------------------------------------------|---------------------|
|show-tooltip|true false        |Показать подсказку                                                                                      |false                |
|half        |true false        |Использование в качестве значений помимо целых чисел также и половинок целых чисел (0, 0.5, 1, 1.5, ...)|false                |
|max         |Число             |Максимальное значение                                                                                   |5                    |
|readonly    |true false        |Предназначен только для чтения                                                                          |true                 |
|action-id   |Ссылка на действие|Ссылка на обработчик изменения рейтинга                                                                 |                     |

**Тело**

[Обработчик действия](#_Действия)

**Пример**

```xml
<rating show-tooltip="true" half="true"/>
```

```xml
<rating readonly="false">
  <invoke operation-id="update"/>
</rating>
```

### &lt;tooltip-list&gt;

Ячейка с тултипом и раскрывающимся текстовым списком.
Раскрывающийся список появляется при количестве элементов больше одного.
Иначе ячейка будет пустой или отображать единственное значение.

**Атрибуты**

|Наименование|Тип        |Описание                                                                                                                                                                                                 |Значение по умолчанию|
|------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|label       |Строка     |Универсальный заголовок поля. Нужно использовать либо универсальный заголовок, либо 2 вида заголовков (label-few, label-many) при разном числе элементов. Если не задать ни один, то ячейка будет пустой.|                     |
|label-few   |Строка     |Заголовок поля при нескольких элементах                                                                                                                                                                  |                     |
|label-many  |Строка     |Заголовок поля при большом числе элементов                                                                                                                                                               |                     |
|dashed-label|true false |Подчеркивание заголовка пунктиром                                                                                                                                                                        |true                 |
|trigger     |click hover|Действие, при котором раскрывается список                                                                                                                                                                |hover                |

**Пример**

```xml
<tooltip-list label="Объектов {size} шт"/>
<tooltip-list label-few="{size} объекта" label-many="{size} объектов"/>
```

### &lt;switch&gt;

Переключатель ячеек.

**Атрибуты**

|Наименование  |Тип                    |Описание                                                       |Значение по умолчанию|
|--------------|-----------------------|---------------------------------------------------------------|---------------------|
|value-field-id|Ссылка на значение поля|Значение, в зависимости от которого будет выбираться тип ячейки|                     |

**Пример**

```xml
<switch value-field-id="type.id">
  <case value="type1">
    <badge/>
  </case>
  <case value="type2">
    <icon/>
  </case>
  <default>
    <text/>
  </default>
</switch>
```

#### &lt;case&gt;

Вариант переключения.

**Атрибуты**

|Наименование|Тип   |Описание                                         |Значение по умолчанию|
|------------|------|-------------------------------------------------|---------------------|
|value       |Строка|Значение, с которым сравнивается `value-field-id`|                     |

**Тело**

Тип ячейки, который будет выбран, в случае верного условия.

#### &lt;default&gt;

Ячейка по умолчанию.

**Тело**

Тип ячейки, которая будет выбрана, если ни один из вариантов case не был выбран ранее.

### &lt;cell&gt;

Настраиваемая ячейка.

**Пример**
```xml
<cell src="MyCell"
  ext:prop1="value1"
  ext:prop2="value2">
</cell>
```
